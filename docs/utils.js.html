<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>utils.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Application.html">Application</a><ul class='methods'><li data-type='method'><a href="Application.html#cleanup">cleanup</a></li><li data-type='method'><a href="Application.html#execute">execute</a></li><li data-type='method'><a href="Application.html#loadConfiguration">loadConfiguration</a></li><li data-type='method'><a href="Application.html#prepare">prepare</a></li><li data-type='method'><a href="Application.html#run">run</a></li></ul></li><li><a href="HTTP.Server.html">Server</a><ul class='methods'><li data-type='method'><a href="HTTP.Server.html#addCORSHandling">addCORSHandling</a></li><li data-type='method'><a href="HTTP.Server.html#addErrorHandling">addErrorHandling</a></li><li data-type='method'><a href="HTTP.Server.html#addMiddlewares">addMiddlewares</a></li><li data-type='method'><a href="HTTP.Server.html#addRoutes">addRoutes</a></li><li data-type='method'><a href="HTTP.Server.html#errorHandler">errorHandler</a></li><li data-type='method'><a href="HTTP.Server.html#execute">execute</a></li><li data-type='method'><a href="HTTP.Server.html#loadConfiguration">loadConfiguration</a></li><li data-type='method'><a href="HTTP.Server.html#logRequest">logRequest</a></li><li data-type='method'><a href="HTTP.Server.html#prepare">prepare</a></li><li data-type='method'><a href="HTTP.Server.html#redirectTo">redirectTo</a></li><li data-type='method'><a href="HTTP.Server.html#sendGeneralError">sendGeneralError</a></li><li data-type='method'><a href="HTTP.Server.html#sendResponse">sendResponse</a></li><li data-type='method'><a href="HTTP.Server.html#setupStaticFolder">setupStaticFolder</a></li><li data-type='method'><a href="HTTP.Server.html#sslConfig">sslConfig</a></li></ul></li><li><a href="Logger.html">Logger</a><ul class='methods'><li data-type='method'><a href="Logger.html#debug">debug</a></li><li data-type='method'><a href="Logger.html#error">error</a></li><li data-type='method'><a href="Logger.html#fatal">fatal</a></li><li data-type='method'><a href="Logger.html#info">info</a></li><li data-type='method'><a href="Logger.html#prepare">prepare</a></li><li data-type='method'><a href="Logger.html#warn">warn</a></li></ul></li></ul><h3>Namespaces</h3><ul><li><a href="HTTP.html">HTTP</a><ul class='methods'><li data-type='method'><a href="HTTP.html#.Profiler">Profiler</a></li></ul></li><li><a href="Utils.html">Utils</a><ul class='methods'><li data-type='method'><a href="Utils.html#.decodeBase64">decodeBase64</a></li><li data-type='method'><a href="Utils.html#.elapsedTime">elapsedTime</a></li><li data-type='method'><a href="Utils.html#.encodeBase64">encodeBase64</a></li><li data-type='method'><a href="Utils.html#.md5">md5</a></li><li data-type='method'><a href="Utils.html#.parseBoolean">parseBoolean</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#default">default</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">utils.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*
 * This file is part of the apes.js npm package. Copyright (C) 2016 and above Shogun &lt;shogun@cowtech.it>.
 * Licensed under the MIT license, which can be found at http://www.opensource.org/licenses/mit-license.php.
 */
"use strict";
const crypto = require("crypto");
const S_TO_MS = 1E3;
const US_TO_MS = 1E6;
const OUTPUT_PRECISION = 6;
/**
 * A set of common utility methods.
 * @namespace Utils
 */
/**
 * A Regular Expression to match a true boolean value.
 *
 * @type {RegExp}
 * @memberOf Utils
 */
exports.trueBooleanRegex = /^(\s*(1|true|yes|t|y|on)\s*)$/i;
/**
 * Encodes a string to Base 64 encoding.
 *
 * @memberOf Utils
 * @param {string} data The data to encode.
 * @returns {string} The encoded data.
 */
function encodeBase64(data) {
    return Buffer.from(data, "utf8").toString("base64");
}
exports.encodeBase64 = encodeBase64;
/**
 * Decodes a string from Base 64 encoding.
 *
 * @memberOf Utils
 * @param {string} data The data to decode.
 * @param asString If `true`, a UTF-8 string will be returned, otherwise a Node.js Buffer.
 * @returns {string|Buffer} The decoded data.
 */
function decodeBase64(data, asString = true) {
    const decoded = Buffer.from(data, "base64");
    return asString ? decoded.toString("utf8") : decoded;
}
exports.decodeBase64 = decodeBase64;
/**
 * Computes the MD5 hash of a string.
 *
 * @memberOf Utils
 * @param {string} data The string to compute the hash of.
 * @returns {string} The MD5 hash of the input string.
 */
function md5(data) {
    return crypto.createHash("md5").update(data).digest("hex");
}
exports.md5 = md5;
/**
 * Parses a object as a boolean.
 *
 * @memberOf Utils
 * @see trueBooleanRegex
 * @param {any} value The value to parse.
 * @returns {boolean} The boolean value.
 */
function parseBoolean(value) {
    return value &amp;&amp; value.toString().match(exports.trueBooleanRegex) !== null;
}
exports.parseBoolean = parseBoolean;
/**
 * Return the elapsed time (in milliseconds) since a reference time.
 *
 * @memberOf Utils
 * @param {number[]} start The starting reference time, as returned by `process.hrtime()`.
 * @param {boolean} round Whether or not round the results.
 * @param {number} precision The precision to run in case of rounding.
 * @returns {number | string} If `round` is true, a string with the elapsed time, otherwise a full precision number.
 */
function elapsedTime(start = null, round = true, precision = OUTPUT_PRECISION) {
    if (!start)
        return null;
    let elapsed = process.hrtime(start);
    elapsed = elapsed[0] * S_TO_MS + elapsed[1] / US_TO_MS;
    if (round)
        elapsed = elapsed.toFixed(precision).replace(/(\d+\.\d+?)0+$/, "$1");
    return elapsed;
}
exports.elapsedTime = elapsedTime;
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.1</a> on Tue Sep 20 2016 09:16:32 GMT+0200 (CEST) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
